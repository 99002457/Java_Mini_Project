name: Main workflow
on: [push, pull_request]
jobs:
  build:
    runs-on: ${{ matrix.operating-system }}
    strategy:
      matrix:
        operating-system: [ubuntu-latest]
    steps:
    - uses: actions/checkout@v2
    - name: Clear tool cache
      run: rm -rf $RUNNER_TOOL_CACHE/*
    - name: Setup Java 13
      id: setup-java
      uses: ./
      with:
        java-version: 13.0.2
    - name: Verify Java 13
      run: __tests__/verify-java.sh 13.0.2 "${{ steps.setup-java.outputs.path }}" "${{ steps.setup-java.outputs.version }}"
